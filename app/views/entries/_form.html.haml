= form_for @entry do |f|
  - if @entry.errors.any?
    #error_explanation
      %h2= "#{pluralize(@entry.errors.count, "error")} prohibited this entry from being saved:"
      %ul
        - @entry.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.text_area :description, size: '40x5'
    = f.hidden_field :master_id, value: params[:master_id].to_i
    = f.hidden_field :pupil_id, value: params[:pupil_id].to_i
    = hidden_field_tag :role, params[:role]
  .actions
    = f.submit '書き込む', id: 'post_entry', class: 'btn btn-primary', disabled: 'disabled'

:javascript
  $(document).ready(function() {
    $('#entry_description').keyup(function() {
      if ($('#entry_description')[0].value.length == 0) {
        $('#post_entry')[0].disabled = true
      } else {
        $('#post_entry')[0].disabled = false
      }
    });
  });
